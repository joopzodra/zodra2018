!function(n){"use strict";function t(n){this.emit("position",n)}function i(n){this.emit("error",n)}function o(n){if("geolocation"in navigator){var t=s(e(n));return t.on("position",function(){this.stop()}),t}throw"geolocation is not available in your browser."}var s=function(n,t){return t={exports:{}},n(t,t.exports),t.exports}(function(n){n.exports=function(n){return n||(n={}),n._subs=[],n._paused=!1,n._pending=[],n.on=function(t,i){n._subs[t]=n._subs[t]||[],n._subs[t].push(i)},n.off=function(t,i){if(n._subs[t])for(var o in n._subs[t])if(n._subs[t][o]===i){n._subs[t].splice(o);break}},n.emit=function(t){if(n._subs[t]){var i=Array.prototype.slice.call(arguments,1);if(n._paused)return n._pending[t]=n._pending[t]||[],void n._pending[t].push(i);for(var o in n._subs[t])n._subs[t][o].apply(n,i)}},n.pause=function(){n._paused=!0},n.resume=function(){n._paused=!1;for(var t in n._pending)for(var i=0;i<n._pending[t].length;i++)n.emit(t,n._pending[t][i])},n}}),r={follow:!1},e=function(n){var o=Object.assign({},r,n);return{start:function(){return o.started=!0,navigator.geolocation.getCurrentPosition(t.bind(this),i.bind(this),{maximumAge:6e4}),this},stop:function(){return o.started=!1,this},isStarted:function(){return o.started},log:function(){return console.log(o),this}}};n.geoLocator=o}(this.window=this.window||{});
